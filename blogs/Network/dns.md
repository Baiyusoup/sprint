---
title: DNS
date: 2021-05-17
categories: 
 - 计算机网络
---

## DNS协议是什么
DNS是域名解析协议，是一个应用层协议，用来把互联网上的主机名字转换为IP地址。

## 作用
用户在互联网通信时，必须知道对方的IP地址，但是IP地址一串32位的二进制地址，能难记住，因此出现了方便用户记忆的主机名字，像www.xxx.com这样的，但是机器只能识别二进制的IP地址，因此就出现了DNS协议，用来把互联网上的主机名字转换为IP地址。

## 查询方式
DNS解析的方法共有两种，第一种是主机向本地域名服务器的查询一般采用的是`递归查询`，具体就是如果主机所询问的本地域名服务器不知道被查询域名的IP地址，那么本地DNS服务器就以DNS客户的身份，向其他根域名服务器继续发送查询请求报文。

第二种方法是本地域名服务器向根域名服务器的查询通常采用的是迭代查询，特点就是当根域名服务器收到本地域名服务器发出的迭代查询请求报文的时候，要么给出它所要查询的IP地址，要么告诉本地服务器，应该向哪一个域名服务器进行查询，然后让本地服务器进行后续的查询。

## 解析过程
首先搜索浏览器的DNS缓存，如果没有命中就继续搜索操作系统的DNS缓存，如果还没命中，操作系统就会将域名发送给本地域名服务器，本地域名服务器采用递归查询自己的DNS缓存，如果还是没有命中，那么本地域名服务器就会以DNS客户的身份，向根域名服务器进行迭代查询。