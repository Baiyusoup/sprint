---
title: TCP/UDP
date: 2021-05-10
categories: 
 - 计算机网络
---
TCP和UDP两者都是运输层最重要的协议
<!-- more -->

## TCP
### 是什么
TCP全称叫做传输控制协议，属于传输层协议，是一种可靠的、面向字节流的通信协议，

### 作用
使两台主机能够建立连接并交换数据，并确保数据传输的可靠性。

### 特点
1. 提供面向连接以及可靠交付的服务，通过三次握手建立连接，四次挥手来断开连接。
2. 面向字节流

### 使用场景
适合对可靠性要求高的数据通信系统。

### tcp三次握手和四次挥手的原因
TCP进行三次握手的原因是为了确认双方的发送和接收能力，通过三次握手tcp就能够确认双方的能力，多了没必要，少了就无法确认双方的能力。

TCP进行四次挥手的原因是服务端在接收到客户端发来的FIN时，并不会立刻返回FIN，因为在这个时候，服务端可能还在发送报文，等所有报文都发送完毕了，服务端才会发送FIN，告诉客户端，我收到你的FIN了。这才造成需要四次挥手的原因。如果采用三次挥手的话，那么就等于说服务器将ACK和FIN的发送合并为一次挥手，这时候长时间的延迟就可能会导致客户端误认为FIN没有到达服务端，从而导致客户端不断的重发FIN。


## UDP
### 是什么
UDP全称叫做用户数据报协议，属于传输层协议，是一个简单的面向数据报通讯协议

### 作用
提供面向报文的不可靠的数据流传输服务，它只在IP的数据报数据服务至上添加了很少一点功能：复用和分用、差错检测功能；

### 特点
1. 无连接，发送数据之前不需要建立连接
2. 尽最大努力交付
3. 面向报文的，对应用层交下来的报文，UDP既不合并也不拆分，只是添加首部之后就交给网络层了，接收方收到后去掉首部后就交给了应用层。
4. 没有拥塞控制
5. 支持一对一、一对多、多对多、多对一的交互通信
6. 首部开销小，只有8个字节，比TCP的20个字节小很多。

### 使用场景
要求源主机以恒定速率发送数据，并且允许在网络发生拥塞时丢失一些数据，但不允许数据有太大的时延

通讯系统、视频网站等。

## 两者区别
1. 可靠性方面：TCP可靠，UDP不可靠
2. 连接性方面：TCP面向连接，UDP无连接
3. 流量控制方面：TCP有滑动窗口来处理，UDP没有这方面的功能
4. 拥塞控制方面：TCP采用慢开始、拥塞避免、快重传、快恢复等功能，UDP没有
5. 传输效率方面：TCP比UDP慢