---
title: TCP的可靠实现机制
date: 2021-07-19
categories: 
 - 计算机网络
---

## 流量控制
通过接收缓存区的大小，控制发送端的发送。具体实现的方式是通过滑动窗口来实现的。TCP滑动窗口分为两种：发送窗口和接收窗口。


## 拥塞控制
防止过多的数据注入网络中，使得网络中的路由器或者链路不会过载。

拥塞控制的算法主要有慢开始、拥塞避免、快重传和快恢复这四种。

### 慢开始
首先通过三次握手，确定了双方的接收窗口的大小。然后双方初始化自己的拥塞窗口大小。在开始传输的一段时间里，发送端每收到一个ACK，拥塞窗口的大小就加1，经过一个RTT后，拥塞窗口的大小就会翻倍。

拥塞窗口的大小达到阈值之后，就会进入拥塞避免。
### 拥塞避免
在拥塞窗口的大小达到阈值之后，拥塞窗口的大小将按线性规律缓慢增大，经过一个RTT后，拥塞窗口的大小只会加1。

### 快重传
在TCP传输的过程中，如果发现丢包了，、

### 快恢复
发送端收到三次重复的ACK之后，发现丢包了，就会进入快恢复阶段。在这个阶段中，发送端会
1. 将拥塞阈值降低为当前拥塞窗口的一半。
2. 当前拥塞窗口的大小作为拥塞阈值
3. 直接从拥塞避免阶段开始


## 超时重传
即发送一个数据包后，经过一定的时间没有等到这个数据包的确认回复使，就重传这个数据包。
