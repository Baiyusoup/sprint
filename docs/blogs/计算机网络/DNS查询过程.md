---
title: DNS查询过程
date: 2021-07-12
categories: 
 - 计算机网络
---

## DNS
域名系统DNS是互联网使用的命名系统，用于将互联网上的主机名字转换成IP地址。

DNS协议是应用层的协议。

## DNS查询过程
在发送请求之前，需要进行域名解析，拿到目的主机的IP地址。首先会查询浏览器的DNS缓存，如果没有对应的记录的话，那么就回去搜索操作系统中的DNS缓存，如果还是没有，那么主机就会调用解析程序，把待解析的域名放到DNS请求报文里面，以UDP的方式发给本地域名服务器进行递归查询。

如果本地域名服务器不知道被查询域名的IP地址，那么本地域名服务器就以DNS客户的身份向根域名服务器发送查询请求报文，进行迭代查询。如果根域名服务没能给出所要查询的IP地址的话，就让本地域名服务器去查询顶级域名服务器->权限域名服务器。最后本地域名服务器将拿到的IP地址返回给主机。

为了提高DNS查询的效率，在域名服务器里面广泛使用高速缓存。用来缓存最近查询过的域名以及从何处获取域名映射信息的记录。有些情况通过高速缓存，本地域名服务器可以不需要通过根域名服务器就可以拿到IP地址。减少根域名服务器的压力以及网络上的DNS报文数量。