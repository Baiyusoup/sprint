---
title: DNS查询过程
date: 2021-07-12
categories: 
 - 计算机网络
---

## DNS
域名系统DNS是互联网使用的命名系统，用于将互联网上的主机名字转换成IP地址。

DNS协议是应用层的协议。

## DNS查询过程
域名解析时，首先会搜索浏览器的DNS缓存，缓存中维护一张域名与IP地址的对应表。

如果表中没有记录，那么就会继续搜索操作系统中的DNS缓存。

如果还是没有，那么主机就会调用解析程序，并成为一个DNS客户，把待解析的域名放到DNS请求报文中，以UDP的方式（减少开销）发给本地域名服务器。本地域名服务器采用递归查询自己的DNS缓存，查找成功的话就对应的IP地址放到回答报文中返回。

如果本地域名服务器的DNS缓存没有命中，那么本地域名服务器就会以DNS客户的身份向根域名服务器继续查出查询请求报文，当根域名服务器收到本地域名服务器发出的迭代查询请求报文的时候，要么给出所要查询的IP地址，要么就告诉本地域名服务器下一步应该向哪个顶级域名服务器查询，如果没有，顶级域名服务器会让本地域名服务器去权限域名服务器查找。

最后将得到的IP地址返回给主机。