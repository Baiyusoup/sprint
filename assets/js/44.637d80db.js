(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{562:function(t,v,_){"use strict";_.r(v);var s=_(6),a=Object(s.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p",[t._v("在普通函数里面，this是运行时进行绑定的，它的上下文取决于函数调用时的各种条件。")]),t._v(" "),_("p",[t._v("每个函数的this是在调用时被绑定，完全取决于函数的调用位置（也就是函数的调用方法）")]),t._v(" "),_("p",[t._v("那么什么是调用位置呢？调用位置就是函数在代码中被调用的位置，并非是声明的位置。")]),t._v(" "),_("p",[t._v("我们寻找调用位置，其最重要的是分析调用栈，我们关心的调用位置就是当前正在执行的函数的前一个调用中。")]),t._v(" "),_("p",[t._v("绑定规则")]),t._v(" "),_("h3",{attrs:{id:"默认绑定"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#默认绑定"}},[t._v("#")]),t._v(" 默认绑定")]),t._v(" "),_("p",[t._v("最常用的函数调用类型：独立函数调用，")]),t._v(" "),_("h3",{attrs:{id:"隐式绑定"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#隐式绑定"}},[t._v("#")]),t._v(" 隐式绑定")]),t._v(" "),_("p",[t._v("调用位置是否有上下文对象，或者说是否被某个对象拥有或者包含。当函数引用有上下文对象时，饮食绑定规则会把函数调用中的this绑定到这个上下对象")]),t._v(" "),_("h3",{attrs:{id:"隐式丢失"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#隐式丢失"}},[t._v("#")]),t._v(" 隐式丢失")]),t._v(" "),_("p",[t._v("一个最常见的this绑定问题就是被隐式绑定的函数会丢失绑定对象，也就是说它会应用默认绑定，从而把this绑定到全局对象或者undefined上。将一个函数作为参数传递时，也会发生")]),t._v(" "),_("h3",{attrs:{id:"显示绑定"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#显示绑定"}},[t._v("#")]),t._v(" 显示绑定")]),t._v(" "),_("p",[t._v("像call、apply这样，如果第一个参数是原始值，那么这个原始值会被转换成它的对象形式")]),t._v(" "),_("h3",{attrs:{id:"new绑定"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#new绑定"}},[t._v("#")]),t._v(" new绑定")]),t._v(" "),_("p",[t._v("创建一个新对象并把它绑定到函数中的this上")]),t._v(" "),_("p",[t._v("优先级\nnew -> 显示绑定 -> 隐式绑定 -> 默认绑定")]),t._v(" "),_("p",[t._v("对于显示绑定那里，如果第一个参数是null或者undefined，在调用时被忽略，采用默认绑定规则")]),t._v(" "),_("p",[t._v("间接引用，我们有可能（有意或无意地）创建一个函数的“间接引用”，在这种情况下，调用这个函数会应用默认绑定规则。")]),t._v(" "),_("p",[_("code",[t._v("(p.foo = q.foo)()")]),t._v(" 这个会采用默认绑定的规则")]),t._v(" "),_("p",[t._v("软绑定：")]),t._v(" "),_("p",[t._v("箭头函数不使用this的四种标准规则，而是根据外层（函数或全局）作用域来决定this")]),t._v(" "),_("p",[t._v("判断一个运行中函数的this绑定，就需要找到这个函数的直接调用位置，找到之后就按照绑定规则来判断this的绑定对象。")]),t._v(" "),_("ol",[_("li",[t._v("由new调用，那么绑定到新创建的对象")]),t._v(" "),_("li",[t._v("由call、apply、bind调用？绑定到指定的对象")]),t._v(" "),_("li",[t._v("由上下文对象调用？绑定到那个上下文对象")]),t._v(" "),_("li",[t._v("默认：严格模式下绑定到undefined，否则绑定到全局对象。")])]),t._v(" "),_("p",[t._v("箭头函数并不会使用上面四条标准的绑定规则，而是根据当前的词法作用域来决定this。")])])}),[],!1,null,null,null);v.default=a.exports}}]);