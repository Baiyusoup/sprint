(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{593:function(a,t,s){"use strict";s.r(t);var e=s(6),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"tapable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tapable"}},[a._v("#")]),a._v(" Tapable")]),a._v(" "),s("p",[a._v("一个类似Nodejs的EventEmitter的库，负责webpack的插件系统。")]),a._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  SyncHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("             "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 同步钩子")]),a._v("\n  SyncBailHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 同步熔断钩子 遇到return就返回的")]),a._v("\n  SyncWaterfallHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 同步流水钩子 执行的结果可以传递给下一个插件")]),a._v("\n  SyncLoopHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 同步循环钩子")]),a._v("\n  AsyncParallelHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 异步并发钩子")]),a._v("\n  AsyncParallelBailHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 异步并发熔断钩子")]),a._v("\n  AsyncSeriesHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 异步串行钩子")]),a._v("\n  AsyncSeriesBailHook"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 异步串行熔断钩子")]),a._v("\n  AsyncSeriesWaterfallHook "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 异步串行流水钩子")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'tapable'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br")])]),s("p",[a._v("waterfall：同步方法，将值传给下一个函数\nbail：熔断，当函数有任何返回值，就在当前执行函数停止\nloop：监听函数返回true标识继续循环，返回undefined标识结束循环\nsync同步方法\nasyncSeries 异步串行钩子\nasyncParallel异步并行")]),a._v(" "),s("p",[a._v("异步钩子\n绑定：tapAsync、tapPromise、tap\n执行：callAsync、promise")]),a._v(" "),s("p",[a._v("同步\n绑定：tap\n执行：call")]),a._v(" "),s("h2",{attrs:{id:"插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[a._v("#")]),a._v(" 插件")]),a._v(" "),s("p",[a._v("需要有一个apply方法，参数是webpack的compiler对象")]),a._v(" "),s("h2",{attrs:{id:"构建流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建流程"}},[a._v("#")]),a._v(" 构建流程")]),a._v(" "),s("h3",{attrs:{id:"初始化option"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化option"}},[a._v("#")]),a._v(" 初始化option")]),a._v(" "),s("h3",{attrs:{id:"run开始编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run开始编译"}},[a._v("#")]),a._v(" run开始编译")]),a._v(" "),s("h3",{attrs:{id:"make分析依赖-对每个依赖进行build"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#make分析依赖-对每个依赖进行build"}},[a._v("#")]),a._v(" make分析依赖，对每个依赖进行build")]),a._v(" "),s("h3",{attrs:{id:"resolve对模块的位置进行解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resolve对模块的位置进行解析"}},[a._v("#")]),a._v(" resolve对模块的位置进行解析")]),a._v(" "),s("h3",{attrs:{id:"构建每个模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建每个模块"}},[a._v("#")]),a._v(" 构建每个模块")]),a._v(" "),s("h3",{attrs:{id:"将loader加载完成module进行编译-生成ast"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将loader加载完成module进行编译-生成ast"}},[a._v("#")]),a._v(" 将loader加载完成module进行编译，生成ast")]),a._v(" "),s("h3",{attrs:{id:"遍历ast-当遇到require这些时-收集依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遍历ast-当遇到require这些时-收集依赖"}},[a._v("#")]),a._v(" 遍历ast，当遇到require这些时，收集依赖")]),a._v(" "),s("h3",{attrs:{id:"所有依赖build完成-开始优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#所有依赖build完成-开始优化"}},[a._v("#")]),a._v(" 所有依赖build完成，开始优化")]),a._v(" "),s("h3",{attrs:{id:"输出到指定目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#输出到指定目录"}},[a._v("#")]),a._v(" 输出到指定目录")]),a._v(" "),s("h2",{attrs:{id:"准备阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备阶段"}},[a._v("#")]),a._v(" 准备阶段")]),a._v(" "),s("p",[a._v("调用WebpackOptionsApply将所有的配置options参数都转换成webpack的内部插件。")]),a._v(" "),s("h2",{attrs:{id:"模块构建阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模块构建阶段"}},[a._v("#")]),a._v(" 模块构建阶段")]),a._v(" "),s("h2",{attrs:{id:"文件生成阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件生成阶段"}},[a._v("#")]),a._v(" 文件生成阶段")])])}),[],!1,null,null,null);t.default=r.exports}}]);